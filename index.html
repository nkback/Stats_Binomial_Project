<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>Nathan Back Stats Project</title>
    <!-- CSS -->
    <style>
        .jumbotron{
            background-color: #ff6666 !important;
            color: #ffffff !important;
        }
    </style>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- Javascript -->
    <script>
        $(document).ready(function(){
            console.log($('#myName').css("color"));
            var sizeInput = $('#sizeInput');
            var probabilityInput = $('#probabilityInput');
            var numSuccesses = $('#numSuccessInput');
            var probFunction = $('#probFunction');

            function factorialize(num){
                var total = num;
                while(true){
                    if(num == 1)
                        break;
                    total *= (--num);
                }
                return total;
            }

            function binomial(x,n,p){
                return (factorialize(n)/(factorialize(n-x)*factorialize(x))*Math.pow(p,x)*Math.pow(1-p,n-x));
            }
            sizeInput.change(function(){
                $('#size').text(sizeInput.val());
            });
            probabilityInput.change(function(){
                $('#probability').text(probabilityInput.val());
            });
            probFunction.change(function(){
                console.log(probFunction.val());
                if(probFunction.val() == 1){
                    $('#sign').text('');
                }
                else if(probFunction.val() == 2){
                    $('#sign').text('>');             
                }
                else{
                    $('#sign').text('<');
                }
            })
            numSuccesses.change(function(){
                $('#xValue').text(numSuccesses.val());
            });


            $('#calculate').click(function(){
                if(numSuccesses.val() < 0){
                    alert("You need to enter a positive value for size n. Please try again.");
                    return;
                }
                else if(Math.floor(numSuccesses.val()) != numSuccesses.val() || !$.isNumeric(numSuccesses.val())){
                    alert("You need to enter an integer for size n. Please try again.");
                    return;
                }

                if(sizeInput.val() < 0){
                    alert("You need to enter a positive value for size n. Please try again.");
                    return;
                }
                else if(Math.floor(sizeInput.val()) != sizeInput.val() || !$.isNumeric(sizeInput.val())){
                    alert("You need to enter an integer for size n. Please try again.");
                    return;
                }

                if(probabilityInput.val() < 0 || probabilityInput.val() > 1 || !$.isNumeric(probabilityInput.val())){
                    alert("Your input for p needs to be 0 <= p <= 1");
                    return;
                }
                

                var result = binomial(numSuccesses.val(),sizeInput.val(), probabilityInput.val());
                console.log(result);
            })
        });
    </script>
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span> 
            </button>
            <a class="navbar-brand" href="#">Binomial Distribution Calculator</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav navbar-right">
                <li id="myName"><a href="#">Nathan Back</a></li>
            </ul>
            </div>
        </div>
    </nav>
    <div class="jumbotron text-center">
        <h1>X ~ Bin(<span id="size">n</span>,<span id="probability">p</span>)</h1>
        <h2>Find P(X<span id="sign"></span>=<span id="xValue">x</span>)</h1>
        <!-- <h2>Binomial Distribution Calculator</h2> -->
        <p>Enter the size and probability of the data (n,p).</p>
        <form class="form-inline" action="#">
            <div class="form-group">
                <div class="input-group">
                    <select id="probFunction" class="form-control" style="width: 130px">
                        <option value="1">Find P(X=x)</option>
                        <option value="2">Find P(X>=x)</option>
                        <option value="3">Find P(X<=x)</option>
                    </select>
                </div>
                <div class="input-group">
                    <input id="numSuccessInput" type="text" class="form-control" size="20" placeholder="Number of sucesses, x">
                </div>
                <div class="input-group">
                    <input id="sizeInput" type="text" class="form-control" size="20" placeholder="input number of trials">
                </div>
                <div class="input-group">
                    <input id="probabilityInput" type="text" class="form-control" size="20" placeholder="input probability">
                </div>                
            </div>
            <button id="calculate" class="btn btn-default">Calculate</button>
        </form>
    </div>
    <div class="container-fluid text-center" style="color: gray">
        <div class="row"></div>
            <div class="col-md-2"></div>
            <div class="col-md-8">
                <h2><i class="fa fa-basketball-ball"></i> NBA Application</h2>
                <p>"Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    Ut enim ad minim veniam, 
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                    Duis aute irure dolor in reprehenderit in voluptate velit 
                    esse cillum dolore eu fugiat nulla pariatur.
                    Excepteur sint occaecat cupidatat non proident,
                        sunt in culpa qui officia deserunt mollit anim id est laborum."
                </p>
            </div>
        </div>
    </div>
</body>
</html>